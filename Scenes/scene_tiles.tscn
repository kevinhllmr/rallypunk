[gd_scene load_steps=15 format=3 uid="uid://bl5pbit0uif4y"]

[ext_resource type="PackedScene" uid="uid://ci52bv1m15cbs" path="res://cars/Doge.tscn" id="2_pfrbg"]
[ext_resource type="Script" path="res://Scripts/RacetrackGenerator.gd" id="4_io2yy"]
[ext_resource type="Script" path="res://Scripts/ItemSpawner.gd" id="8_d1rq0"]
[ext_resource type="Script" path="res://Scripts/ui.gd" id="8_j768l"]
[ext_resource type="Script" path="res://Scripts/FogDamage.gd" id="9_j1v3u"]
[ext_resource type="PackedScene" uid="uid://b1fvyuqtg3w6b" path="res://Scenes/PauseMenu.tscn" id="11_anxlf"]
[ext_resource type="PackedScene" uid="uid://b13xstj6uq4i0" path="res://Graphics/Terrain_006.glb" id="12_hn2oh"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_stkyv"]
sky_top_color = Color(0.419608, 0.54902, 0.619608, 1)
sky_horizon_color = Color(0.654902, 0.679505, 0.688152, 1)
ground_horizon_color = Color(0.654902, 0.679505, 0.688152, 1)

[sub_resource type="Sky" id="Sky_1hegq"]
sky_material = SubResource("ProceduralSkyMaterial_stkyv")

[sub_resource type="Environment" id="Environment_76sc4"]
background_mode = 2
sky = SubResource("Sky_1hegq")
tonemap_mode = 2
ssr_enabled = true
ssao_enabled = true
ssao_radius = 1.5
ssao_intensity = 0.6
ssao_power = 32.7849
ssil_enabled = true
sdfgi_y_scale = 2
glow_enabled = true
volumetric_fog_enabled = true
volumetric_fog_density = 0.0

[sub_resource type="Curve3D" id="Curve3D_iglup"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 12.3403, 0.400535, -503.087, 0, 0, 0, 0, 0, 0, -72.707, 0.399802, -502.006, 0, 0, 0, 0, 0, 0, -161.718, 0.400535, -503.087, 0, 0, 0, 0, 0, 0, -217.936, 0.413474, -519.303, 0, 0, 0, 0, 0, 0, -236.675, 0.453757, -569.755, 0, 0, 0, 0, 0, 0, -244.603, 0.487937, -612.639, 0, 0, 0, 0, 0, 0, -203.882, 0.494773, -621.288, 0, 0, 0, 0, 0, 0, -182.98, 0.511619, -642.55, 0, 0, 0, 0, 0, 0, -188.746, 0.536521, -673.902, 0, 0, 0, 0, 0, 0, -216.134, 0.546531, -686.515, 0, 0, 0, 0, 0, 0, -239.198, 0.547019, -687.236, 0, 0, 0, 0, 0, 0, -281.001, 0.535789, -673.181, 0, 0, 0, 0, 0, 0, -362.938, 0.53408, -671.022, 0, 0, 0, 0, 0, 0, -407.263, 0.511374, -642.552, 0, 0, 0, 0, 0, 0, -460.958, 0.508201, -638.588, 0, 0, 0, 0, 0, 0, -481.86, 0.489402, -614.804, 0, 0, 0, 0, 0, 0, -488.346, 0.464744, -583.812, 0, 0, 0, 0, 0, 0, -513.572, 0.455222, -571.92, 0, 0, 0, 0, 0, 0, -538.798, 0.473289, -594.623, 0, 0, 0, 0, 0, 0, -569.79, 0.50698, -637.147, 0, 0, 0, 0, 0, 0, -614.836, 0.516501, -649.039, 0, 0, 0, 0, 0, 0, -659.882, 0.490134, -615.885, 0, 0, 0, 0, 0, 0, -706.73, 0.46572, -585.254, 0, 0, 0, 0, 0, 0, -739.164, 0.437156, -549.217, 0, 0, 0, 0, 0, 0, -739.646, 0.407615, -512.066, 0, 0, 0, 0, 0, 0, -718.384, 0.387107, -486.48, 0, 0, 0, 0, 0, 0, -714.78, 0.374167, -470.263, 0, 0, 0, 0, 0, 0, -732.438, 0.359275, -451.524, 0, 0, 0, 0, 0, 0, -758.385, 0.34072, -428.1, 0, 0, 0, 0, 0, 0, -763.07, 0.30532, -383.774, 0, 0, 0, 0, 0, 0, -731.357, 0.284568, -357.828, 0, 0, 0, 0, 0, 0, -705.411, 0.270652, -340.169, 0, 0, 0, 0, 0, 0, -713.339, 0.247703, -311.34, 0, 0, 0, 0, 0, 0, -735.321, 0.217429, -273.501, 0, 0, 0, 0, 0, 0, -743.417, 0.183494, -230.782, 0, 0, 0, 0, 0, 0, -739.813, 0.150535, -189.34, 0, 0, 0, 0, 0, 0, -724.318, 0.114646, -144.293, 0, 0, 0, 0, 0, 0, -707.29, 0.0819311, -103.114, 0, 0, 0, 0, 0, 0, -691.433, 0.0511694, -64.5547, 0, 0, 0, 0, 0, 0, -674.496, 0.0201635, -25.6348, 0, 0, 0, 0, 0, 0, -649.63, -0.0076685, 9.32108, 0, 0, 0, 0, 0, 0, -636.365, -0.04844, 60.6709, 0, 0, 0, 0, 0, 0, -631.68, -0.0799341, 99.9512, 0, 0, 0, 0, 0, 0, -614.382, -0.108743, 136.349, 0, 0, 0, 0, 0, 0, -584.111, -0.141213, 177.07),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 45

[sub_resource type="FogMaterial" id="FogMaterial_qahue"]
density = 0.25
albedo = Color(0.796078, 0.741176, 0.576471, 1)
emission = Color(0.796078, 0.741176, 0.576471, 1)
edge_fade = 0.131951

[sub_resource type="GDScript" id="GDScript_siapo"]

[sub_resource type="BoxShape3D" id="BoxShape3D_m0uy5"]
size = Vector3(500, 200, 1000)

[node name="Node3D" type="Node3D"]
script = ExtResource("8_j768l")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_76sc4")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.80696, 0.183487, -0.56138, 0, 0.950516, 0.310677, 0.590606, -0.250704, 0.767028, 0, 43.5687, 0)
shadow_enabled = true
directional_shadow_max_distance = 200.0

[node name="car" parent="." instance=ExtResource("2_pfrbg")]
transform = Transform3D(0.1258, 0, 0.992055, 0, 1, 0, -0.992055, 0, 0.1258, -95.5502, 77.3114, -538.454)
collision_layer = 15
collision_mask = 15
engine_force_value = 200

[node name="RayCast3D" type="RayCast3D" parent="car"]
transform = Transform3D(1, 0, 5.96046e-08, 0, 1, 0, -5.96046e-08, 0, 1, 0, 0, 0)
target_position = Vector3(0, -2, 0)

[node name="RacetrackContainer" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.25867, 0)
visible = false
script = ExtResource("4_io2yy")

[node name="PauseMenu" parent="." instance=ExtResource("11_anxlf")]
visible = false

[node name="Terrain_006" parent="." instance=ExtResource("12_hn2oh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -452.113, 49.7924, -342.123)

[node name="Path3D" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.28726, 6.21177, -33.8492)
curve = SubResource("Curve3D_iglup")
script = ExtResource("8_d1rq0")

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D"]
transform = Transform3D(-0.0127094, -8.61711e-06, 0.999913, -4.54743e-13, 0.999989, 8.61784e-06, -0.99991, 1.09528e-07, -0.0127095, 12.3403, 0.400535, -503.087)

[node name="FogVolume" type="FogVolume" parent="Path3D/PathFollow3D"]
transform = Transform3D(0.996798, 2.85251e-10, 0.0799623, 0.00101747, 0.999919, -0.0126836, -0.0799558, 0.0127243, 0.996717, 43.9433, -7.07262, 488.878)
size = Vector3(500, 200, 1000)
material = SubResource("FogMaterial_qahue")
script = SubResource("GDScript_siapo")

[node name="Area3D" type="Area3D" parent="Path3D/PathFollow3D/FogVolume"]
script = ExtResource("9_j1v3u")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Path3D/PathFollow3D/FogVolume/Area3D"]
transform = Transform3D(1, -1.50996e-07, -1.50996e-07, -1.50996e-07, -1, 2.84217e-14, -1.50996e-07, 3.55271e-14, -1, 0, 0, 0)
shape = SubResource("BoxShape3D_m0uy5")
